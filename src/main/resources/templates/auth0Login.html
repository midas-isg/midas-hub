<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>CCD</title>
        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
            body,html{padding:0;margin:0}.table{display:table;position:absolute;height:100%;width:100%;background:linear-gradient(rgba(255,255,255,.3),rgba(255,255,255,0));background-color:#e8ebef}.cell{display:table-cell;vertical-align:middle}.content{padding:25px 0;margin-left:auto;margin-right:auto;width:280px}
        </style>
    </head>
    <body>
        <div class="table">
            <div class="cell">
                <div class="content">
                    <div id="widget-container"></div>
                </div>
            </div>
        </div>


        <script src="/vendors/auth0/lock-9.1.min.js"></script>
        <script th:inline="javascript">
            (function() { // TODO should be page not modal.
                var auth0ClientId = /*[[${@environment.getProperty('auth0.clientId')}]]*/ '';
                var auth0Domain = /*[[${@environment.getProperty('auth0.domain')}]]*/ '';
                var state = /*[[${state}]]*/ '';
                var callbackUrl = /*[[${callbackUrl}]]*/ '';
                var iconUrl = /*[[@{/img/ccd_logo.png}]]*/ '';
                new Auth0Lock(auth0ClientId, auth0Domain).show({
                    dict: {
                        signin: {
                            title: "CCD Web"
                        }
                    },
                    icon: iconUrl,
                    callbackURL: callbackUrl,
                    responseType: 'code',
                    rememberLastLogin: true,
                    container: 'widget-container',
                    authParams: {
                        state: state
                    }
                });
            }());
        </script>
    </body>
</html>
